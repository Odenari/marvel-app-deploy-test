import{r as i,j as e,u as O,E as re,S as D,g as ie,L as ne}from"./index-28db1ab9.js";import{M as b}from"./MainButton-409c2996.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var f=function(){return f=Object.assign||function(o){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(o[a]=n[a])}return o},f.apply(this,arguments)};function oe(t,o){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&o.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)o.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}var se=function(){return Math.random().toString(36).substring(6)},ae=function(t){var o=t.animate,n=o===void 0?!0:o,r=t.animateBegin,s=t.backgroundColor,a=s===void 0?"#f5f6f7":s,c=t.backgroundOpacity,x=c===void 0?1:c,y=t.baseUrl,d=y===void 0?"":y,u=t.children,p=t.foregroundColor,w=p===void 0?"#eee":p,g=t.foregroundOpacity,l=g===void 0?1:g,h=t.gradientRatio,m=h===void 0?2:h,_=t.gradientDirection,V=_===void 0?"left-right":_,Y=t.uniqueKey,R=t.interval,z=R===void 0?.25:R,T=t.rtl,X=T===void 0?!1:T,H=t.speed,J=H===void 0?1.2:H,F=t.style,Q=F===void 0?{}:F,L=t.title,S=L===void 0?"Loading...":L,P=t.beforeMask,C=P===void 0?null:P,Z=oe(t,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),E=Y||se(),I=E+"-diff",q=E+"-animated-diff",$=E+"-aria",ee=X?{transform:"scaleX(-1)"}:null,N="0; "+z+"; 1",k=J+"s",te=V==="top-bottom"?"rotate(90)":void 0;return i.createElement("svg",f({"aria-labelledby":$,role:"img",style:f(f({},Q),ee)},Z),S?i.createElement("title",{id:$},S):null,C&&i.isValidElement(C)?C:null,i.createElement("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+d+"#"+I+")",style:{fill:"url("+d+"#"+q+")"}}),i.createElement("defs",null,i.createElement("clipPath",{id:I},u),i.createElement("linearGradient",{id:q,gradientTransform:te},i.createElement("stop",{offset:"0%",stopColor:a,stopOpacity:x},n&&i.createElement("animate",{attributeName:"offset",values:-m+"; "+-m+"; 1",keyTimes:N,dur:k,repeatCount:"indefinite",begin:r})),i.createElement("stop",{offset:"50%",stopColor:w,stopOpacity:l},n&&i.createElement("animate",{attributeName:"offset",values:-m/2+"; "+-m/2+"; "+(1+m/2),keyTimes:N,dur:k,repeatCount:"indefinite",begin:r})),i.createElement("stop",{offset:"100%",stopColor:a,stopOpacity:x},n&&i.createElement("animate",{attributeName:"offset",values:"0; 0; "+(1+m),keyTimes:N,dur:k,repeatCount:"indefinite",begin:r})))))},M=function(t){return t.children?i.createElement(ae,f({},t)):i.createElement(ce,f({},t))},ce=function(t){return i.createElement(M,f({viewBox:"0 0 476 124"},t),i.createElement("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),i.createElement("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),i.createElement("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),i.createElement("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),i.createElement("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),i.createElement("circle",{cx:"20",cy:"20",r:"20"}))};const le=M,de=t=>e.jsx(e.Fragment,{children:e.jsxs(le,{width:350,height:600,viewBox:"0 0 350 600",backgroundColor:"#f5f5f5",foregroundColor:"#dbdbdb",...t,children:[e.jsx("rect",{x:"4",y:"8",rx:"3",ry:"3",width:"8",height:"570"}),e.jsx("rect",{x:"5",y:"573",rx:"3",ry:"3",width:"331",height:"7"}),e.jsx("rect",{x:"329",y:"9",rx:"3",ry:"3",width:"8",height:"570"}),e.jsx("rect",{x:"102",y:"69",rx:"3",ry:"3",width:"102",height:"7"}),e.jsx("rect",{x:"92",y:"47",rx:"3",ry:"3",width:"178",height:"6"}),e.jsx("circle",{cx:"48",cy:"63",r:"18"}),e.jsx("rect",{x:"95",y:"95",rx:"3",ry:"3",width:"178",height:"6"}),e.jsx("rect",{x:"105",y:"169",rx:"3",ry:"3",width:"102",height:"7"}),e.jsx("rect",{x:"95",y:"147",rx:"3",ry:"3",width:"178",height:"6"}),e.jsx("circle",{cx:"51",cy:"163",r:"18"}),e.jsx("rect",{x:"98",y:"195",rx:"3",ry:"3",width:"178",height:"6"}),e.jsx("rect",{x:"107",y:"265",rx:"3",ry:"3",width:"102",height:"7"}),e.jsx("rect",{x:"97",y:"243",rx:"3",ry:"3",width:"178",height:"6"}),e.jsx("circle",{cx:"53",cy:"259",r:"18"}),e.jsx("rect",{x:"100",y:"291",rx:"3",ry:"3",width:"178",height:"6"}),e.jsx("rect",{x:"108",y:"365",rx:"3",ry:"3",width:"102",height:"7"}),e.jsx("rect",{x:"98",y:"343",rx:"3",ry:"3",width:"178",height:"6"}),e.jsx("circle",{cx:"54",cy:"359",r:"18"}),e.jsx("rect",{x:"101",y:"391",rx:"3",ry:"3",width:"178",height:"6"}),e.jsx("rect",{x:"110",y:"458",rx:"3",ry:"3",width:"102",height:"7"}),e.jsx("rect",{x:"100",y:"436",rx:"3",ry:"3",width:"178",height:"6"}),e.jsx("circle",{cx:"56",cy:"452",r:"18"}),e.jsx("rect",{x:"103",y:"484",rx:"3",ry:"3",width:"178",height:"6"}),e.jsx("rect",{x:"114",y:"507",rx:"3",ry:"3",width:"102",height:"7"}),e.jsx("rect",{x:"103",y:"534",rx:"3",ry:"3",width:"178",height:"6"}),e.jsx("rect",{x:"5",y:"8",rx:"3",ry:"3",width:"331",height:"7"})]})}),he="_preview_1p7jk_1",me="_heroThumbnail_1p7jk_11",xe="_imgNotFound_1p7jk_17",ue="_randomHero_1p7jk_23",pe="_heroDescr_1p7jk_39",ge="_tryRandom_1p7jk_50",ye="_btnsBlock_1p7jk_68",v={preview:he,heroThumbnail:me,imgNotFound:xe,randomHero:ue,heroDescr:pe,tryRandom:ge,btnsBlock:ye},fe=()=>{const{loading:t,error:o,getCharacter:n,getRandomId:r,clearError:s}=O(),[a,c]=i.useState();i.useEffect(()=>{n(r(1011334,1010903)).then(p=>c(p))},[n,r]);const x=i.useCallback(()=>{n(r(1011334,1010903)).then(p=>{o&&s(),c(p)})},[n,r,o,s]),y=o?e.jsx(re,{}):null,d=t?e.jsx(D,{}):null;let u=!d&&!o&&a?e.jsx(je,{char:a}):null;return e.jsxs("section",{className:v.preview,children:[e.jsxs("div",{className:v.randomHero,children:[d,y,u]}),e.jsxs("div",{className:v.tryRandom,children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Random character for today!"}),e.jsx("h3",{children:"Do you want to get more information?"})]}),e.jsx("h4",{children:"Maybe choose another one"}),e.jsx(b,{handleGetHero:x,children:"TRY IT"})]})]})};function je({char:t}){if(!t)return;const{name:n,description:r,thumbnail:{path:s,extension:a},urls:[c,x]}=t;return e.jsxs(e.Fragment,{children:[e.jsx("img",{src:`${s}.${a}`,alt:"Hero preview",className:s!=="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available"?v.heroThumbnail:v.imgNotFound}),e.jsxs("div",{className:v.heroDescr,children:[e.jsx("h2",{children:n}),e.jsx("p",{children:r.length>153?r.slice(0,153).concat("..."):r.concat("...")}),e.jsxs("div",{className:v.btnsBlock,children:[e.jsx(b,{path:c,children:"HOMEPAGE"}),e.jsx(b,{path:x,color:"#5C5C5C",children:"WIKI"})]})]})]})}const ve="_card_4tc2y_1",be="_imgNotFound_4tc2y_35",B={card:ve,imgNotFound:be},A=i.forwardRef((t,o)=>{const{name:n,thumbnail:{path:r,extension:s}}=t.data,a=c=>c.match(/\(/g)?c.slice(0,c.indexOf("(")).toUpperCase():c;return e.jsx("div",{ref:o,className:B.card,onClick:()=>{t.pickHero(t.data.id)},onKeyDown:c=>{c.key==="Enter"&&t.pickHero(t.data.id)},children:e.jsxs("div",{className:"hero-card",children:[e.jsx("img",{className:r==="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available"?B.imgNotFound:null,src:`${r}.${s}`,alt:"hero avatar"}),e.jsx("h3",{children:a(n)})]})})});A.displayName="HeroCard";const _e="_heroDetails_olqq1_1",we="_profileHeader_olqq1_8",Ce="_comicsListItem_olqq1_31",Ee="_imgNotFound_olqq1_51",Ne="_profileDescr_olqq1_55",ke="_inComicsList_olqq1_60",j={heroDetails:_e,profileHeader:we,comicsListItem:Ce,imgNotFound:Ee,profileDescr:Ne,inComicsList:ke};var W={exports:{}},Oe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",De=Oe,Re=De;function G(){}function K(){}K.resetWarningCache=G;var Te=function(){function t(r,s,a,c,x,y){if(y!==Re){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function o(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:o,element:t,elementType:t,instanceOf:o,node:t,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:K,resetWarningCache:G};return n.PropTypes=n,n};W.exports=Te();var He=W.exports;const Fe=ie(He),Le={id:Fe.number},U=({char:t})=>{const{loading:o,getComics:n}=O(),{name:r,description:s,thumbnail:{path:a,extension:c},urls:[x,y],id:d}=t,[u,p]=i.useState(null);i.useEffect(()=>{n(d).then(g=>{p(g.data.results)})},[d,n]);const w=o&&e.jsx(D,{});return e.jsxs("div",{className:j.heroDetails,children:[e.jsxs("div",{className:j.profileHeader,children:[e.jsx("img",{src:`${a}.${c}`,alt:`${r} avatar`,className:a==="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available"?j.imgNotFound:null}),e.jsxs("div",{children:[e.jsx("h3",{children:r}),e.jsx(b,{children:"HOMEPAGE"}),e.jsx(b,{color:"#5C5C5C",children:"WIKI"})]})]}),e.jsx("p",{className:j.profileDescr,children:s}),e.jsxs("div",{className:j.inComicsList,children:[e.jsx("h2",{children:"Comics:"}),o?w:e.jsx("ul",{children:u?u.map(g=>e.jsx(ne,{to:`comics/${g.id}`,children:e.jsx("li",{className:j.comicsListItem,children:g.title})},g.id)):e.jsxs("li",{className:j.comicsList,style:{paddingBottom:"8px",height:"auto"},children:["There is no comics to read about ",r,". Maybe that hero appeared in rare episode..."]})})]})]})};U.proptypes={id:Le.id};const Se={},Pe=()=>e.jsxs("form",{className:Se,children:[e.jsxs("div",{style:{marginRight:"12px"},children:[e.jsx("label",{htmlFor:"hero-name",children:"Or find a character by name:"}),e.jsx("input",{type:"text",placeholder:"Enter name",htmlFor:"hero-name"})]}),e.jsx(b,{width:"105px",children:"FIND"})]});function $e({detailed:t=!0,formFlag:o=!0}){const{loading:n,getAllCharacters:r}=O(),s=i.useRef([]),a=l=>{s.current.push(l)},c=l=>{const h=l.filter(_=>_);let m=0;for(let _ of h)_.tabIndex=++m;s.current=h},[x,y]=i.useState(null);function d(l){y(u.find(h=>h.id===l))}const[u,p]=i.useState(null),w=async()=>{const l=u.length,h=await r(l);p(m=>[...m,...h])},g=l=>e.jsx("section",{className:"cards",children:e.jsx("ul",{className:"cards-container",children:l.map(h=>e.jsx("li",{children:e.jsx(A,{ref:a,data:h,pickHero:m=>d(m)})},h.id))})});return i.useEffect(()=>{r().then(l=>p(l)).then(()=>{c(s.current),s.current??s.current[0].focus()}).catch(l=>console.log(l.message))},[r]),e.jsxs(e.Fragment,{children:[e.jsx(fe,{}),e.jsxs("section",{className:"content",children:[u?g(u):e.jsx(D,{}),t&&o?e.jsxs("div",{className:"aside-content",children:[x?e.jsx(U,{char:x}):e.jsxs("div",{children:[e.jsx("h2",{style:{margin:"0 auto",fontSize:"1.8rem",marginBottom:"1em"},children:"Click on hero to see more details"}),e.jsx(de,{})]}),e.jsx(Pe,{})]}):e.jsx("div",{className:"aside-content"})]}),e.jsx("div",{className:"btn-wrapper",children:e.jsx(b,{isLoading:n,handleMoreHeroes:w,width:"170px",children:"LOAD MORE"})})]})}export{$e as Home};
